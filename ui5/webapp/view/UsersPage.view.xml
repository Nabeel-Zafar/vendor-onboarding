<mvc:View
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f"
    controllerName="vendor.onboarding.controller.UsersPage"
    displayBlock="true">
    <f:DynamicPage id="usersPage" showFooter="false" fitContent="true">
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="{i18n>usersTitle}" />
                </f:heading>
                <f:actions>
                    <Button text="{i18n>addUser}" icon="sap-icon://add" type="Emphasized" press="onAddUser" />
                </f:actions>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="false">
                <SearchField width="300px" placeholder="Search users..." liveChange="onSearchUser" />
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <Table id="userTable"
                items="{users>/Users}"
                growing="true"
                growingThreshold="20"
                sticky="ColumnHeaders,HeaderToolbar"
                alternateRowColors="true"
                noDataText="No users found.">
                <columns>
                    <Column>
                        <Text text="{i18n>firstName}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>lastName}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>userEmail}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>role}" />
                    </Column>
                    <Column minScreenWidth="Tablet">
                        <Text text="{i18n>phoneNumber}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{users>first_name}" />
                            <Text text="{users>last_name}" />
                            <Text text="{users>user_email}" />
                            <ObjectStatus
                                text="{users>role}"
                                state="{= ${users>role} === 'Admin' ? 'Information' : 'None'}" />
                            <Text text="{users>phone_number}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>
